# Since the default distribution of Travis was migrated from Trusty to Xenial, and oraclejdk8 is not supported in Xenial.
# So in order to use oraclejdk8, we have to explicitly specify the distribution to Trusty.
# See: https://blog.travis-ci.com/2019-04-15-xenial-default-build-environment
dist: trusty
language: java
jdk:
- oraclejdk8
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
after_success:
- ./gradlew coveralls
script:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- if [ "${TRAVIS_PULL_REQUEST}" == "false" ];then git checkout master;git remote set-url origin "https://$GITHUBKEY@github.com/yahoo/parsec-libraries";./gradlew release;fi
- test "${TRAVIS_PULL_REQUEST}" != "false" || test "${TRAVIS_BRANCH}" != "master" || ./gradlew bintrayUpload --info
env:
  global:
  - secure: DtXOOq/+aHLjTvwPTMy8YfBUFgep8PgZ7C+PuSwfiIyx3HUef+PaEyQcafIdTSgYshh/qrNZYzcz+jCrayNdfxa2F5mSQu+NI9Dz9yY00vX/yyO/sEV1U60A9uxphQ8DrYLbg7GeBZ4+VIuW/LQxqKe0ugWTpfJ1kKF+ytaQpgpkfJmRE8eyvMWOjD34ruIWtXqqrNtl+/lySRqVkNRcymY0AhTiaGrBeEO6ki6hb/IcPgUt5sVj4p5iWrb/2dr6PcTbQ1N5xlp3zmlTnURgcz/6Pcor2UrQ1Iz35EsPtkifrsx0uP/X6Xnn/JURMhUcWfapSQZjxM8NDwUR4p8Jqaio1pgk4TOS2aZK0cd6vNW5bVN4jX014X6hiU8F6G4pRt7sDN3cmv7FX/mnNc+hIqxRa41p5vNxk63Vq37VmgT8wVULMiB1SWJ+A2TTdqSxB6U5G/qjI2ZyspfsLnLMEVMscjARtPobqdG7RcWZuQKk5buctasBLl71SF/4qDIssi/qsX2PHZjrrqpb8PbXYRGbUSXocsEBvyXjj532abu5onQiB/fsPaNfRcdWApi7g7Ap7j9sDeXCLlf9FxvAH3WyZLFSJQL2rUIKARM+SmUTPwwSlFobnLWah/GVOBRYn/l3+BdTLpC8CntB31GTLBCsALK+PAPOPcUv+y0BbGs=
  - secure: iUPrJEEM3yJdRXoTckVDwoRlsFLoofz0jRjlpMyAl7BNPpxWv+SSagcBXIVwVEolV8SjyWlXvsrwhVm/4fmQ1rzbocpprEVQyMIzz4z1svpCxXzVPNEZ9myTPDUnTcPxZPEh+BOzFlatKfkjqxap7Cwn88e7KpI2Fwqf2938Ati1R28pADxuf9u1o2DtXVlIjyIlrGpBPJme/fD+aSnNW4aWwvBhVTHlj5YdjVmAGTI7cbJIIaA78pZblEa/N+v271yDblhZnpI1WoCGZrqYS6aLPlZ6Ze0JZLAOq7y27deCAfQ19mk+NBBwUebQB2x4sugZUtzqUgJ0DEvdMEI4HDNzjD+Q32LW6FYS4d2YJqvsiDcmj/7P+MESnjv8jk1afeXGW9taP/3Cz0TJFNdOv9fnG8EvyCmJXM0EzxFVAJXruGz3zgacgedfVhXP+ORQLemQFiVInAGL3VIRQP11pIMRX1X5EQdioJ99ZiHPNl84EwiPcWkYrnyxAu5z6l//R0rVBnfIUrSrFKLL4G/AQQc+s9UeeLUTJ5TFDICCE1i/semSJdqSMGQLyU3k34WCqNLucUSHuM8jwN6yWAos57bFJmAma+Iiqct9Yy7UDE4EUUvjzWeO0VhJyUXlChHzmQhObkpbQIQBF84S2hR3QfSdK6RHS+v+lMlrpbwnTig=
  - secure: myJsotdtEPBfSOgWkJGYOX9+c7WELrP8Ahqz8MyPcoW382jkC+IaSWgdUqx5iwWZ9hLf/R420tpcV03VfgTVvno42cDCBnh3vBOV/u/Bi3FBEdA1flgm+a95rAJ2yxS5xSDkhJ7t9sNRGizmO+tV54VTE79PlAS1FAIzw98z3SxRn8AbT10HFx/O0TktiOY/hzXuiOxrzu4uInfMtWUbjkpSNnlzYJgXD+P2nw11HDuFOu53Y4ptg+E8i8wz13Q1z25o33dHCSpb+auShH00/C66th9/B+SW5ynbkp6uNnVHtqinjBqeK+FL9v2nzN23Mgk9Nb6aP579yjpUFm21Hb9pMhksWRYmKx3NdQWqZvgmpd7cwkZQOsqDZYkgwwWb9khFWDglynvLgOlD999D0HKQaemQlHv6Q3hjeVZw+TwvOG/AqLiYIvK0IXCNQaWmXj2RV0NDPuZNzANnAHUDvSXwZiukYH7fIzyt+NZqcEM8G23KurEyS+0opl5UbyWgm5YGkXi8DC5tb1v4VVxWSDYGnOhfJfNWQNHfGXmAKlsm8PJ/TqseNHF/BwQ6LU7dYSvSu7ERt7f56GBaxiDWTN0P2OAJj1SrbWqeERMiKTS9aTGx99+2Z0g+5ow5k3cikDOg34ntm2agj8wfZsbU9CO83EvQXbcoQ0KqTJ+L7K0=
  - secure: eVrAWMXMT9/iHpTR+N4ZLVRAUd20DZTseL/pc+JOAvflHDRhsWcJhp7p5CzqDPEc81FlRkn5Jc+pSYFJ2XeT9483/Lu79SDnrOA/rov0QFVv0W+G9LiRMgsyDOX9C2/MmcE+Dvw2OPCEgESyBTaqXZZF6bsSesFG7Yzx+NrLsKSxpA8ec64InnuhVyLCP80ebq9Tbl1RldncSTg9vGjzXNw0HXOO0aI0v/yrmIybpCmJAtnwD8MpwfLCbFfE6rkEqmPcAbKqQH8inzeQf99geXfu2oW0fTdC06OX+r5i3xy9u5FzjSpqbYtAguZWJReOvitmBCaTMwXDvTQT2dPt1AKhWZqdQ4F21wDIAL4YJAuiq4BUOt/6t/suf0OpkfSwN/UsiF8ePjKOYvZpfvMXtTlQaalzWJxLEz3l+eKDVUzQZ9LaXdZOESUi4q0Bgg6S3/vERFH+xVCg3BqP5AcvpzdbVvK//2nkqMdQHbvlOV2neFFhrstRBrgWqmS4JleYy1TqfX5+GKVvicRk7Mk5BxvGMs47ADCfQPBb0JoLGAr+Wrw9Oe8I/PDyWLH3MOeJLQ7St9icRujLomR/O8P00SCff9rGApR3RCnTQLYt4L9b94+Lg7RaS+NSD9uedXJ0Ic7bQFnrFagEp+7gWEnG5HABgaoSuRyWiyUIbPpV34w=
  - secure: WoHzjJC3JA2OEJiNqmMVScN/InZdKoevfEE4Mi0V9t4pg7/e86uZ3dDF0GstACG5VjtCioXKxeTz4KAPiR8u1NyTTkXy5lQPypyNDwQBoJrQYNDYHRBZjNAy5nh0wG5YBgshi+eeuCOJr6Siurr+0kZBawSP0A7n6JEhsBzAhtQ9tNE2XvL5vX2xLgc5wtr+pCTy5whJYjQlR/imTo4pWHJxjqiZuGfxnQbndMOsI4bdHytCvw9reyGP/mNMsL2DrE2bPQpi3ElO6tIE+rnI5jkN8/mJWia+AaGC3YeLc5C++PgzW90nIvJ29VKXOtb1opgIRbSxUTtr8lbzIqAezbsBOOU6JDDWNkGgmXlzSz8z+/kYM5Kkdxjp3OFT9HsJG7QlKPerIb5W7UOfEZiXw0lNYm635JLGZpi8OGT7h1D76aVhcDy4nbOTnDdhqtc+e7HkFU1z/vPRmMvOWE9SHVI5mKRYoKl1c+gZI4xr3kjoh2WdmMhkobsy3B9LUUHOaUGr5JsjxzVxATKzqoGKyNqKiPB7vUlm3+JaHtPmkgIL4TD5B1dQhATrYctVJDxbbKwGCcoIOvu8AZ7Uq4lqCTwHxniJ5isY6TBv9cev2r4k/NP7wEWcOpFqfirBqUyRPEG0luFMNdhspK6FNaPc9v4RrzAheOIHLN5nfuAZUs8=
  - secure: QVNZFAEys3Gq+oR4av+EFuNlkcQICveQmLR4gy2WtUi8NGmiS0rY6DRufubhf+ekzuM7qpL0gkRaesbljOI+EvdJ4PkjziAzycEJ73gEM1uaY+Kio/8XXTHKn0t9a8/vbgLIhW0E9HS0btTBXtomvqHzy5DJ2sPqQSxVEzzwdqws6YP+HXjDMuljrvqMj8dYQRUrO1l4QKX8KhQi1/FOsWFBVKq1DyubkgKkbfjzSqTjkESbEvi1CBVdnYQ3mYuad8sAreJBuwWUjEevmPkF5tl8VBFO1ZAECraYUfDqWtcpUrRR/KSc9ETAziST9pKAwkmP/dHcpFXOy+0EM9PMIEwD5sGT2izp53UF7Id1wdMWaVmNCCRp8fkwEDVCv0W+g2KG7etrgvjcN6ZPds1h2lzSo8LTVo74KX9DFiXxz/jbUA4nIF3It0YeaE5hpV5uJ7rUvCulFCQk0NGefa6IXAsxYXzotPm+IUHNsZbNfmeFhLgGp/QfI6NFWzZFjAzqNkzsIN1cKmbr1UejVxGWEHaw6l9go/kYZRdj5EiLaoZm3lxCXR/8cInzOu1HFFRjwg42hruMzsvhBFFi7QNCqsB7Y6QihLivm/WwadZPT98KDJLjNooinYwVVcF5ULq1bASnHVOjzqj15yMaAqRqhCSHP6cYrmyHoqRjGxtt0v8=
  - secure: QxVfiLaZA+fozd006L6SYxddb9joIWX73ofrv/wgU0xWW/Fff026UJgBtn0xsQ6ybtrelfPcB4ERbgEt7Ps7HgTQm5ExV5kuycbicqAKYU8l1C9D7w3atwPoDxKYyeG8uhTG6VcBt5l8UIcFhkHvb8tloSE1VxRCbZSBdR9p9ouKebsdg1GM3fXXKng+JDN0DrgyXJfEhTouV5dlEXP78+S9LY0Vz6bAQ7T8k++Z24XrZKk4LO/6v4jZKaJS2cj+gMvTTUYvcm1Rub+r1ocnCdBkXx1+otevQRws6Q/aMPvMnzCo8Tsxw3OEsBzVGjGR/AlNsyJVGoQdBaaimKmwGm5QRnXdu+Mfrkl0RuggV7Tch9wEXiYFeMMjNFF7VETQ8VMdH5gADANFshYvhGrP6pNV/gX7RIs36gZ/rIWvfa0URct2HMMuTSolEwEc6ILI6M75aI4NKGckidQeGcP5JyNl1Xz/SxFQtXpMImHGiKRlmrGjmpW3/smNeOVAa+MYaIdpVrv96BNvuaKS6EFWfx1zbBIYpAkZkPgS/zlgX13Zp4Dg/XyKfXHEcQyFuKle72eiW9pei8efdIVwBO/WnnUz6V4cNiw/Y+Gj4N+/93u3d6e0Y+QPA+XKgAe9hDIaPrP6CVrWu8WlFmRzudnJ6FRrADNDXTaByBeJG/utIKw=
branches:
  only:
    - master
